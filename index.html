<!DOCTYPE html>
<html lang="ko">
<head>
 <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>All-in-One ê°ì„± ìœ í‹¸</title>
<style>
  * { box-sizing: border-box; }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #fffafc;
    margin: 0; padding: 20px;
    color: #5c2c44;
  }
  header {
    text-align: center;
    font-size: 2rem;
    font-weight: bold;
    margin-bottom: 15px;
    color: #d93670;
    user-select: none;
  }
  nav {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    margin-bottom: 20px;
  }
  nav button {
    padding: 8px 14px;
    border: none;
    background: #ff80aa;
    color: white;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  nav button:hover, nav button.active {
    background: #ff4c7a;
  }
  section {
    display: none;
    max-width: 650px;
    margin: auto;
    background: #fff0f5;
    border-radius: 12px;
    box-shadow: 0 0 14px rgba(255,192,203,0.35);
    padding: 20px;
    color: #5c2c44;
  }
  section.active {
    display: block;
  }
  input, textarea, select {
    width: 100%;
    padding: 8px;
    margin-top: 8px;
    margin-bottom: 12px;
    border-radius: 6px;
    border: 1px solid #e7a5c3;
    font-size: 1rem;
    background: #fff7fb;
    color: #5c2c44;
    resize: vertical;
  }
  button.action {
    background: #ff80aa;
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 700;
  }
  button.action:hover {
    background: #ff4c7a;
  }
  ul#planList, ul#memoList {
    list-style: none;
    padding-left: 0;
    max-height: 200px;
    overflow-y: auto;
    border-top: 1px solid #f5a6c2;
  }
  ul#planList li, ul#memoList li {
    padding: 10px;
    border-bottom: 1px solid #f5a6c2;
    font-weight: 600;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  ul#planList li button, ul#memoList li button {
    background: transparent;
    border: none;
    cursor: pointer;
    font-size: 1.2rem;
    color: #ff4477;
  }
  #fontResult {
    margin-top: 12px;
    font-size: 1.6rem;
    word-break: break-word;
    user-select: text;
    font-weight: 700;
    min-height: 50px;
  }
  #clockDisplay {
    font-size: 2.8rem;
    font-weight: 700;
    text-align: center;
    padding: 15px;
    background: #ffe6f1;
    border-radius: 12px;
    user-select: none;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  #codeInput {
    height: 180px;
    font-family: Consolas, monospace;
    font-size: 1rem;
    background: #fff7fb;
    border: 2px solid #f5a6c2;
    border-radius: 8px;
    padding: 10px;
    resize: vertical;
    color: #5c2c44;
  }
  #codeOutput {
    margin-top: 10px;
    padding: 10px;
    background: #fff0f5;
    border: 2px solid #f5a6c2;
    border-radius: 8px;
    min-height: 40px;
    font-weight: 600;
    color: #5c2c44;
    white-space: pre-wrap;
    font-family: Consolas, monospace;
  }
  iframe {
    width: 100%;
    height: 300px;
    border: none;
    margin-top: 10px;
    border-radius: 8px;
  }
</style>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>
<body>

<header>ğŸŒ¸ All-in-One ê°ì„± ìœ í‹¸ ğŸŒ¸</header>

<nav>
  <button class="active" onclick="showTab('planner', this)">ğŸ“… í”Œë˜ë„ˆ</button>
  <button onclick="showTab('clock', this)">ğŸ• í˜„ì¬ì‹œê°„</button>
  <button onclick="showTab('timer', this)">â± íƒ€ì´ë¨¸</button>
  <button onclick="showTab('music', this)">ğŸµ ìŒì•…</button>
  <button onclick="showTab('videodown', this)">ğŸ“¥ ì˜ìƒë‹¤ìš´</button>
  <button onclick="showTab('memo', this)">ğŸ“ ë©”ëª¨</button>
  <button onclick="showTab('diary', this)">ğŸ“” ì¼ê¸°</button>
  <button onclick="showTab('font', this)">ğŸ”¤ í°íŠ¸ë³€í™˜</button>
 <button onclick="showTab('pngToPdf', this)">ğŸ–¼ PNG â†’ PDF ë³€í™˜ê¸°</button>
</nav>

<!-- í”Œë˜ë„ˆ -->
<section id="planner" class="active">
  <h2>ğŸ“… í”Œë˜ë„ˆ</h2>
  <input type="date" id="planDate" />
  <textarea id="planText" rows="3" placeholder="í•  ì¼ì´ë‚˜ ê³„íšì„ ì ì–´ë³´ì„¸ìš”"></textarea>
  <button class="action" onclick="addPlan()">â• ì¶”ê°€</button>
  <ul id="planList"></ul>
</section>
<section id="pngToPdf">
  <h2>ğŸ–¼ PNG â†’ PDF ë³€í™˜ê¸°</h2>
  <input type="file" id="imgInput" accept="image/png" />
  <button id="convertBtn">PDF ë³€í™˜ ë° ë‹¤ìš´ë¡œë“œ</button>
</section>

<!-- í˜„ì¬ì‹œê°„ -->
<section id="clock">
  <h2>ğŸ• í˜„ì¬ì‹œê°„</h2>
 <div id="clockTime" style="font-size:2rem; font-weight:bold;"></div>
<div id="clockDate" style="font-size:1.2rem; color:#666;"></div>

</section>

<!-- íƒ€ì´ë¨¸ -->
<section id="timer">
  <h2>â± íƒ€ì´ë¨¸</h2>
  <div style="display:flex; gap:10px; flex-wrap: wrap;">
    <select id="timerHours" title="ì‹œê°„">
      <!-- 0~24ì‹œê°„ -->
      ${[...Array(25).keys()].map(h => `<option value="${h}">${h} ì‹œê°„</option>`).join('')}
    </select>
    <select id="timerMinutes" title="ë¶„">
      <!-- 0~60ë¶„ -->
      ${[...Array(61).keys()].map(m => `<option value="${m}">${m} ë¶„</option>`).join('')}
    </select>
    <select id="timerSeconds" title="ì´ˆ">
      <!-- 0~60ì´ˆ -->
      ${[...Array(61).keys()].map(s => `<option value="${s}">${s} ì´ˆ</option>`).join('')}
    </select>
  </div>
  <button class="action" id="timerStartBtn" onclick="startTimer()">â–¶ ì‹œì‘</button>
  <button class="action" id="timerStopBtn" onclick="stopTimer()" disabled>â–  ì •ì§€</button>
  <div id="timerDisplay" style="font-size:2rem; font-weight:bold; margin-top:10px; user-select:none;">00:00:00</div>
</section>

<!-- ìŒì•… -->
<section id="music">
  <h2>ğŸµ ìŒì•… ì¬ìƒê¸°</h2>
  <input type="text" id="musicInput" placeholder="ìœ íŠœë¸Œ ë§í¬ ë˜ëŠ” MP3 URLì„ ì…ë ¥í•˜ì„¸ìš”" />
  <button class="action" onclick="playMusic()">â–¶ï¸ ì¬ìƒ</button>
  <div id="musicPlayer" style="margin-top: 15px;"></div>
</section>

<!-- ì˜ìƒë‹¤ìš´ -->
<section id="videodown">
  <h2>ğŸ“¥ ì˜ìƒë‹¤ìš´ë¡œë“œ</h2>
  <input type="text" id="videoUrl" placeholder="ë„¤ì´ë²„, ìœ íŠœë¸Œ, ê¸°íƒ€ ë™ì˜ìƒ ë§í¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
  <button class="action" onclick="downloadVideo()">â¬‡ï¸ ë‹¤ìš´ë¡œë“œ ë§í¬ ìƒì„±</button>
  <div id="videoLink" style="margin-top: 15px;"></div>
</section>

<!-- ì„±ì ê³„ì‚° -->
<section id="score">
  <h2>ğŸ“Š ì„±ì  ê³„ì‚°ê¸°</h2>
  <div class="score-group">
    <label>ìˆ˜í–‰í‰ê°€ ì ìˆ˜ (0~100)</label>
    <input type="number" id="scorePerform" min="0" max="100" value="0" />
    <label>ìˆ˜í–‰í‰ê°€ ë°˜ì˜ë¹„ìœ¨ (%)</label>
    <input type="number" id="weightPerform" min="0" max="100" value="20" />
  </div>
  <div class="score-group">
    <label>ì¤‘ê°„ê³ ì‚¬ ì ìˆ˜ (0~100)</label>
    <input type="number" id="scoreMid" min="0" max="100" value="0" />
    <label>ì¤‘ê°„ê³ ì‚¬ ë°˜ì˜ë¹„ìœ¨ (%)</label>
    <input type="number" id="weightMid" min="0" max="100" value="40" />
  </div>
  <div class="score-group">
    <label>ëª©í‘œ ì ìˆ˜ (0~100)</label>
    <input type="number" id="scoreFinalGoal" min="0" max="100" value="80" />
    <label>ê¸°ë§ê³ ì‚¬ ë°˜ì˜ë¹„ìœ¨ (%)</label>
    <input type="number" id="weightFinal" min="0" max="100" value="40" />
  </div>
  <button class="action" onclick="calcScore()">ê³„ì‚°í•˜ê¸°</button>
  <div id="scoreResult" style="margin-top: 15px; font-weight: 700;"></div>
</section>

<!-- ë©”ëª¨ -->
<section id="memo">
  <h2>ğŸ“ ë©”ëª¨ì¥</h2>
  <textarea id="memoText" rows="8" placeholder="ê°ì„± ìˆê²Œ ë©”ëª¨ë¥¼ ì ì–´ë³´ì„¸ìš”..."></textarea>
  <button class="action" onclick="saveMemo()">ğŸ’¾ ì €ì¥</button>
  <button class="action" onclick="downloadMemo()">ğŸ“¥ TXTë¡œ ì €ì¥</button>
  <ul id="memoList"></ul>
</section>

<!-- ì¼ê¸° -->
<section id="diary">
  <h2>ğŸ“” ì¼ê¸°</h2>
  <textarea id="diaryText" rows="10" placeholder="ì˜¤ëŠ˜ì˜ ì¼ê¸°ë¥¼ ê°ì„±ì ìœ¼ë¡œ ì ì–´ë³´ì„¸ìš”..."></textarea>
  <button class="action" onclick="saveDiary()">ğŸ’¾ ì €ì¥</button>
  <button class="action" onclick="downloadDiary()">ğŸ“¥ PNGë¡œ ìº¡ì³ ì €ì¥</button>
</section>

<!-- í°íŠ¸ë³€í™˜ -->
<section id="font">
  <h2>ğŸ”¤ í°íŠ¸ ë³€í™˜ê¸°</h2>
<input type="text" id="fontInput" placeholder="ì˜ì–´ ì…ë ¥">

<div>
  <h3>íŒ¬ì‹œ í°íŠ¸</h3>
  <div id="fontResultFancy" style="font-family: 'Fraktur', serif; font-size: 1.5rem;"></div>
</div>

<div>
  <h3>í•„ê¸°ì²´ í°íŠ¸</h3>
  <div id="fontResultHandwriting" style="font-family: 'Dancing Script', cursive; font-size: 1.5rem;"></div>
</div>
</section>

<!-- ì½”ë“œ í…ŒìŠ¤íŠ¸ -->
<section id="code">
  <h2>ğŸ’» HTML ì½”ë“œ í…ŒìŠ¤íŠ¸</h2>
  <textarea id="codeInput" placeholder="HTML ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
  <button class="action" onclick="runCode()">ì‹¤í–‰</button>
  <button class="action" onclick="checkCode()">ë¬¸ë²• ê²€ì‚¬</button>
  <div id="codeOutput"></div>
  <iframe id="codeFrame" style="width:100%; height:300px; margin-top: 10px; border-radius: 8px;"></iframe>
</section>

<script>
  // íƒ­ ì „í™˜
  function showTab(id, btn) {
    document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  }

  // ===== í”Œë˜ë„ˆ =====
  const STORAGE_PLANNER = 'myPersonalPlanner';
  function loadPlans() {
    const plans = JSON.parse(localStorage.getItem(STORAGE_PLANNER) || '[]');
    const ul = document.getElementById('planList');
    ul.innerHTML = '';
    plans.forEach(({date, text}, i) => {
      const li = document.createElement('li');
      li.textContent = `${date} - ${text}`;
      const delBtn = document.createElement('button');
      delBtn.textContent = 'âŒ';
      delBtn.title = 'ì‚­ì œ';
      delBtn.onclick = () => {
        removePlan(i);
      };
      li.appendChild(delBtn);
      ul.appendChild(li);
    });
  }
  function addPlan() {
    const date = document.getElementById('planDate').value;
    const text = document.getElementById('planText').value.trim();
    if (!date || !text) {
      alert('ë‚ ì§œì™€ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.');
      return;
    }
    const plans = JSON.parse(localStorage.getItem(STORAGE_PLANNER) || '[]');
    plans.push({date, text});
    localStorage.setItem(STORAGE_PLANNER, JSON.stringify(plans));
    document.getElementById('planText').value = '';
    loadPlans();
  }
  function removePlan(index) {
    const plans = JSON.parse(localStorage.getItem(STORAGE_PLANNER) || '[]');
    plans.splice(index, 1);
    localStorage.setItem(STORAGE_PLANNER, JSON.stringify(plans));
    loadPlans();
  }
  window.addEventListener('DOMContentLoaded', () => {
    loadPlans();
    loadMemo();
    loadDiary();
    startClock();
  });

  // ===== í˜„ì¬ì‹œê°„ =====
function updateClock() {
  const now = new Date();

  // ì‹œê°„
  const h = now.getHours().toString().padStart(2, '0');
  const m = now.getMinutes().toString().padStart(2, '0');
  const s = now.getSeconds().toString().padStart(2, '0');

  // ë‚ ì§œ
  const year = now.getFullYear();
  const month = (now.getMonth() + 1).toString().padStart(2, '0');
  const date = now.getDate().toString().padStart(2, '0');

  const dayNames = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
  const day = dayNames[now.getDay()];

  const dateStr = `${year}ë…„ ${month}ì›” ${date}ì¼ (${day})`;

  document.getElementById('clockTime').textContent = `${h}:${m}:${s}`;
  document.getElementById('clockDate').textContent = dateStr;
}

// 1ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸ ì‹œì‘
setInterval(updateClock, 1000);
updateClock();  // í˜ì´ì§€ ë¡œë“œì‹œ ì¦‰ì‹œ í•œë²ˆ ì‹¤í–‰

  // ===== íƒ€ì´ë¨¸ =====
  let timerInterval;
  function startTimer() {
    const h = parseInt(document.getElementById('timerHours').value);
    const m = parseInt(document.getElementById('timerMinutes').value);
    const s = parseInt(document.getElementById('timerSeconds').value);
    let total = h*3600 + m*60 + s;
    if (total <= 0) {
      alert('0ì´ˆë³´ë‹¤ í° ì‹œê°„ì„ ì„ íƒí•˜ì„¸ìš”.');
      return;
    }
    document.getElementById('timerStartBtn').disabled = true;
    document.getElementById('timerStopBtn').disabled = false;

    timerInterval = setInterval(() => {
      if (total <= 0) {
        clearInterval(timerInterval);
        alert('â° íƒ€ì´ë¨¸ ì¢…ë£Œ!');
        document.getElementById('timerDisplay').textContent = '00:00:00';
        document.getElementById('timerStartBtn').disabled = false;
        document.getElementById('timerStopBtn').disabled = true;
        return;
      }
      total--;
      const hh = Math.floor(total/3600).toString().padStart(2,'0');
      const mm = Math.floor((total%3600)/60).toString().padStart(2,'0');
      const ss = (total%60).toString().padStart(2,'0');
      document.getElementById('timerDisplay').textContent = `${hh}:${mm}:${ss}`;
    }, 1000);
  }
  function stopTimer() {
    clearInterval(timerInterval);
    document.getElementById('timerStartBtn').disabled = false;
    document.getElementById('timerStopBtn').disabled = true;
  }


document.addEventListener('DOMContentLoaded', () => {
  const { jsPDF } = window.jspdf;

  document.getElementById('convertBtn').onclick = () => {
    const input = document.getElementById('imgInput');
    if (!input.files.length) {
      alert('PNG íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
      return;
    }
    const file = input.files[0];
    const reader = new FileReader();

    reader.onload = (e) => {
      const imgData = e.target.result;
      const pdf = new jsPDF();

      const img = new Image();
      img.onload = () => {
        const pdfWidth = 210;
        const pdfHeight = (img.height * pdfWidth) / img.width;
        pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
        pdf.save('converted.pdf');
      };
      img.src = imgData;
    };

    reader.readAsDataURL(file);
  };

  window.show = function(id) {
    document.querySelectorAll('section').forEach(s => s.style.display = 'none');
    document.getElementById(id).style.display = 'block';
  };
});



  // ===== ìŒì•… =====
  function playMusic() {
    const input = document.getElementById('musicInput').value.trim();
    const player = document.getElementById('musicPlayer');
    player.innerHTML = '';
    if (!input) {
      alert('ìœ íŠœë¸Œ ë§í¬ ë˜ëŠ” MP3 URLì„ ì…ë ¥í•˜ì„¸ìš”.');
      return;
    }
    // ìœ íŠœë¸Œ ë§í¬ì¸ì§€ ì²´í¬ (youtu.be, youtube.com)
    let ytId = null;
    if (input.includes('youtu.be/')) {
      ytId = input.split('youtu.be/')[1].split(/[?&]/)[0];
    } else if (input.includes('youtube.com/watch')) {
      const urlParams = new URLSearchParams(input.split('?')[1]);
      ytId = urlParams.get('v');
    }
    if (ytId) {
      const iframe = document.createElement('iframe');
      iframe.src = `https://www.youtube.com/embed/${ytId}?autoplay=1`;
      iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
      iframe.allowFullscreen = true;
      player.appendChild(iframe);
      return;
    }
    // mp3 URL ì¬ìƒ
    if (input.match(/^https?:\/\/.*\.(mp3|wav|ogg)$/i)) {
      const audio = document.createElement('audio');
      audio.controls = true;
      audio.src = input;
      audio.autoplay = true;
      player.appendChild(audio);
      return;
    }
    alert('ìœ íŠœë¸Œ ë§í¬ë‚˜ MP3/WAV/OGG URLë§Œ ì§€ì›í•©ë‹ˆë‹¤.');
  }
function updateClock() {
  const now = new Date();

  // ì‹œê°„
  const h = now.getHours().toString().padStart(2, '0');
  const m = now.getMinutes().toString().padStart(2, '0');
  const s = now.getSeconds().toString().padStart(2, '0');

  // ë‚ ì§œ (ë…„-ì›”-ì¼)
  const year = now.getFullYear();
  const month = (now.getMonth() + 1).toString().padStart(2, '0');
  const date = now.getDate().toString().padStart(2, '0');

  const dayNames = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
  const day = dayNames[now.getDay()];

  const dateStr = `${year}ë…„ ${month}ì›” ${date}ì¼ (${day})`;

  document.getElementById('clockTime').textContent = `${h}:${m}:${s}`;
  document.getElementById('clockDate').textContent = dateStr;
}

  // ===== ì˜ìƒë‹¤ìš´ =====
  function downloadVideo() {
    const url = document.getElementById('videoUrl').value.trim();
    const linkBox = document.getElementById('videoLink');
    linkBox.innerHTML = '';
    if (!url) {
      alert('ë™ì˜ìƒ ë§í¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
      return;
    }
    // ë‹¨ìˆœíˆ ìƒˆíƒ­ì—ì„œ ë§í¬ ì—´ê¸° (ì‹¤ì œ ë‹¤ìš´ë¡œë“œëŠ” ì„œë¹„ìŠ¤ ë”°ë¼ ë‹¤ë¦„)
    const a = document.createElement('a');
    a.href = url;
    a.target = '_blank';
    a.rel = 'noopener noreferrer';
    a.textContent = 'ë‹¤ìš´ë¡œë“œ ì‹œë„ ë§í¬ (ìƒˆ ì°½ ì—´ë¦¼)';
    a.style = 'color:#d93670; font-weight:bold; font-size:1.1rem;';
    linkBox.appendChild(a);
  }

  // ===== ì„±ì  ê³„ì‚° =====
  function calcScore() {
    const pScore = parseFloat(document.getElementById('scorePerform').value) || 0;
    const pWeight = parseFloat(document.getElementById('weightPerform').value) || 0;
    const mScore = parseFloat(document.getElementById('scoreMid').value) || 0;
    const mWeight = parseFloat(document.getElementById('weightMid').value) || 0;
    const fGoal = parseFloat(document.getElementById('scoreFinalGoal').value) || 0;
    const fWeight = parseFloat(document.getElementById('weightFinal').value) || 0;

    if (pWeight + mWeight + fWeight !== 100) {
      alert('ë°˜ì˜ ë¹„ìœ¨ì˜ í•©ì€ 100ì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
      return;
    }
    const current = (pScore * pWeight + mScore * mWeight) / 100;
    const neededFinal = ((100 - current * 100) / fWeight) * 100;
    // ì‹¤ì œ í•„ìš”í•œ ì ìˆ˜ ê³„ì‚° (ê¸°ë§ ë°˜ì˜ë¹„ìœ¨ ì ìš©)
    const neededScore = ((100 - current * 100) / fWeight);

    let finalMsg = '';
    if (fGoal >= neededFinal) {
      finalMsg = `ëª©í‘œ ì ìˆ˜: ${fGoal}ì  ë‹¬ì„± ê°€ëŠ¥!`;
    } else {
      finalMsg = `ëª©í‘œ ì ìˆ˜: ${fGoal}ì  ë‹¬ì„± ë¶ˆê°€ëŠ¥. ìµœì†Œ ${neededFinal.toFixed(2)}ì  ì´ìƒ í•„ìš”.`;
    }

    const totalScore = current + (fGoal * fWeight) / 100;
    document.getElementById('scoreResult').textContent = `
ì´ ì˜ˆìƒ ì ìˆ˜: ${totalScore.toFixed(2)}ì 
${finalMsg}
    `.trim();
  }

  // ===== ë©”ëª¨ =====
  const STORAGE_MEMO = 'myMemo';
  function loadMemo() {
    const memo = localStorage.getItem(STORAGE_MEMO);
    if (memo) document.getElementById('memoText').value = memo;
    updateMemoList();
  }
  function saveMemo() {
    const val = document.getElementById('memoText').value;
    localStorage.setItem(STORAGE_MEMO, val);
    updateMemoList();
    alert('ë©”ëª¨ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
  }
  function updateMemoList() {
    const ul = document.getElementById('memoList');
    ul.innerHTML = '';
    const val = localStorage.getItem(STORAGE_MEMO);
    if (!val) return;
    const lines = val.split('\n').filter(l => l.trim());
    lines.forEach((line, i) => {
      const li = document.createElement('li');
      li.textContent = line;
      const delBtn = document.createElement('button');
      delBtn.textContent = 'âŒ';
      delBtn.title = 'ë¼ì¸ ì‚­ì œ';
      delBtn.onclick = () => {
        lines.splice(i, 1);
        localStorage.setItem(STORAGE_MEMO, lines.join('\n'));
        updateMemoList();
        document.getElementById('memoText').value = lines.join('\n');
      };
      li.appendChild(delBtn);
      ul.appendChild(li);
    });
  }
  function downloadMemo() {
    const text = document.getElementById('memoText').value;
    if (!text) {
      alert('ì €ì¥í•  ë©”ëª¨ê°€ ì—†ìŠµë‹ˆë‹¤.');
      return;
    }
    const blob = new Blob([text], {type:'text/plain'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = `memo_${new Date().toISOString().slice(0,10)}.txt`;
    a.click();
  }

  // ===== ì¼ê¸° =====
  const STORAGE_DIARY = 'myDiary';
  function loadDiary() {
    const val = localStorage.getItem(STORAGE_DIARY);
    if (val) document.getElementById('diaryText').value = val;
  }
  function saveDiary() {
    const val = document.getElementById('diaryText').value;
    localStorage.setItem(STORAGE_DIARY, val);
    alert('ì¼ê¸°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
  }
  function downloadDiary() {
    const text = document.getElementById('diaryText').value;
    if (!text) {
      alert('ì €ì¥ëœ ì¼ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.');
      return;
    }
    // ìº”ë²„ìŠ¤ì— ê·¸ë ¤ì„œ PNG ë‹¤ìš´ë¡œë“œ
    const canvas = document.createElement('canvas');
    canvas.width = 600;
    canvas.height = 400;
    const ctx = canvas.getContext('2d');
    ctx.fillStyle = '#fff0f5';
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = '#5c2c44';
    ctx.font = '18px "Segoe UI", Tahoma, Geneva, Verdana, sans-serif';
    ctx.textBaseline = 'top';
    const words = text.split('\n');
    let y = 20;
    for (let w of words) {
      ctx.fillText(w, 20, y);
      y += 26;
    }
    const link = document.createElement('a');
    link.href = canvas.toDataURL('image/png');
    link.download = `diary_${new Date().toISOString().slice(0,10)}.png`;
    link.click();
  }

  // ===== í°íŠ¸ ë³€í™˜ =====
  // ì˜ˆì‹œ: ì˜ì–´ ê¸€ìë“¤ â†’ íŒ¬ì‹œ ìŠ¤íƒ€ì¼
const fontMapFancy = {
  A: 'ğ”„', B: 'ğ”…', C: 'â„­', D: 'ğ”‡', E: 'ğ”ˆ', F: 'ğ”‰', G: 'ğ”Š',
  H: 'â„Œ', I: 'â„‘', J: 'ğ”', K: 'ğ”', L: 'ğ”', M: 'ğ”', N: 'ğ”‘',
  O: 'ğ”’', P: 'ğ”“', Q: 'ğ””', R: 'â„œ', S: 'ğ”–', T: 'ğ”—', U: 'ğ”˜',
  V: 'ğ”™', W: 'ğ”š', X: 'ğ”›', Y: 'ğ”œ', Z: 'â„¨',
  a: 'ğ”', b: 'ğ”Ÿ', c: 'ğ” ', d: 'ğ”¡', e: 'ğ”¢', f: 'ğ”£', g: 'ğ”¤',
  h: 'ğ”¥', i: 'ğ”¦', j: 'ğ”§', k: 'ğ”¨', l: 'ğ”©', m: 'ğ”ª', n: 'ğ”«',
  o: 'ğ”¬', p: 'ğ”­', q: 'ğ”®', r: 'ğ”¯', s: 'ğ”°', t: 'ğ”±', u: 'ğ”²',
  v: 'ğ”³', w: 'ğ”´', x: 'ğ”µ', y: 'ğ”¶', z: 'ğ”·'
};

document.getElementById('fontInput').addEventListener('input', e => {
  const txt = e.target.value;
  // íŒ¬ì‹œ í°íŠ¸ ë³€í™˜
  let fancy = '';
  for (const ch of txt) {
    fancy += fontMapFancy[ch] || ch;
  }
  document.getElementById('fontResultFancy').textContent = fancy;

  // í•„ê¸°ì²´ í°íŠ¸ (CSSë¡œ ê·¸ëƒ¥ cursive ì ìš©)
  document.getElementById('fontResultHandwriting').textContent = txt;
});


  // ===== ì½”ë“œ í…ŒìŠ¤íŠ¸ =====
  function runCode() {
    const code = document.getElementById('codeInput').value;
    const iframe = document.getElementById('codeFrame');
    const doc = iframe.contentDocument || iframe.contentWindow.document;
    doc.open();
    doc.write(code);
    doc.close();
    document.getElementById('codeOutput').textContent = 'ì½”ë“œ ì‹¤í–‰ ì™„ë£Œ.';
  }

  function checkCode() {
    const code = document.getElementById('codeInput').value;
    // ì•„ì£¼ ê¸°ë³¸ì  ë¬¸ë²• ê²€ì‚¬
    try {
      // HTML íŒŒì„œëŠ” ë¸Œë¼ìš°ì €ê°€ ì´ë¯¸ í•¨, ì—¬ê¸°ì„  ê°„ë‹¨íˆ íƒœê·¸ ë‹«í˜ ê²€ì‚¬ë§Œ
      const parser = new DOMParser();
      const doc = parser.parseFromString(code, 'text/html');
      const err = doc.querySelector('parsererror');
      if (err) {
        document.getElementById('codeOutput').textContent = 'ë¬¸ë²• ì˜¤ë¥˜: ' + err.textContent;
      } else {
        document.getElementById('codeOutput').textContent = 'ë¬¸ë²• ì˜¤ë¥˜ ì—†ìŒ';
      }
    } catch(e) {
      document.getElementById('codeOutput').textContent = 'ë¬¸ë²• ê²€ì‚¬ ì¤‘ ì˜¤ë¥˜: ' + e.message;
    }
  }
</script>

<script>
  // select ì˜µì…˜ ë™ì ìœ¼ë¡œ ì±„ìš°ê¸° (íƒ€ì´ë¨¸ 0~24, 0~60)
  const timerHours = document.getElementById('timerHours');
  const timerMinutes = document.getElementById('timerMinutes');
  const timerSeconds = document.getElementById('timerSeconds');

  function fillSelectOptions(select, max) {
    for (let i = 0; i <= max; i++) {
      const opt = document.createElement('option');
      opt.value = i;
      opt.textContent = `${i} ${select.title}`;
      select.appendChild(opt);
    }
  }

  // ì´ë¯¸ htmlì— ì±„ì›Œì ¸ìˆë‹¤ë©´ ì¤‘ë³µìƒì„± ë§‰ê¸°ìœ„í•´ ë¹„ìš°ê³  ìƒˆë¡œ ìƒì„±
  timerHours.innerHTML = '';
  timerMinutes.innerHTML = '';
  timerSeconds.innerHTML = '';
  fillSelectOptions(timerHours, 24);
  fillSelectOptions(timerMinutes, 60);
  fillSelectOptions(timerSeconds, 60);

  timerHours.value = 0;
  timerMinutes.value = 0;
  timerSeconds.value = 0;
</script>

</body>
</html>
